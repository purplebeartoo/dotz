# Monitors
monitor = DP-3, 3840x2160, 0x0, 1

# Autostart
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = dunst
exec-once = hypridle
exec-once = hyprpaper
exec-once = waybar

# Programs
$terminal = kitty

# Environment variables
# QT
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_STYLE_OVERRIDE,kvantum
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1

# Theming
env = GTK_ICON_THEME,Yaru-Blue
env = GTK_THEME,Tokyonight-Dark
env = HYPRCURSOR_SIZE,24
env = HYPRCURSOR_THEME,rose-pine-hyprcursor
env = XCURSOR_SIZE,24
env = XCURSOR_THEME,BreezeX-RosePine-Linux

# Toolkit backend
env = CLUTTER_BACKEND,wayland
env = GDK_BACKEND,wayland,*
env = SDL_VIDEODRIVER,wayland

# XDG
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland

# Look and feel
animations {
    bezier = easeOutQuint,       0.23,   1,      0.32,   1
    bezier = easeInOutCubic,     0.65,   0.05,   0.36,   1
    bezier = linear,             0,      0,      1,      1
    bezier = almostLinear,       0.5,    0.5,    0.75,   1
    bezier = quick,              0.15,   0,      0.1,    1

    animation = global,          1,      10,     default
    animation = border,          1,      5.39,   easeOutQuint
    animation = windows,         1,      4.79,   easeOutQuint
    animation = windowsIn,       1,      4.1,    easeOutQuint,   popin 87%
    animation = windowsOut,      1,      1.49,   linear,         popin 87%
    animation = fadeIn,          1,      1.73,   almostLinear
    animation = fadeOut,         1,      1.46,   almostLinear
    animation = fade,            1,      3.03,   quick
    animation = layers,          1,      3.81,   easeOutQuint
    animation = layersIn,        1,      4,      easeOutQuint,   fade
    animation = layersOut,       1,      1.5,    linear,         fade
    animation = fadeLayersIn,    1,      1.79,   almostLinear
    animation = fadeLayersOut,   1,      1.39,   almostLinear
    animation = workspaces,      1,      1.94,   almostLinear,   fade
    animation = workspacesIn,    1,      1.21,   almostLinear,   fade
    animation = workspacesOut,   1,      1.94,   almostLinear,   fade
    animation = zoomFactor,      1,      7,      quick
}

cursor {
    inactive_timeout = 3
}

decoration {
    rounding = 8
    blur {
        enabled = true
        passes = 3
        size = 1
        vibrancy = 0.5
    }
    shadow {
        color = rgba(31324499)
        color_inactive = rgba(31324499)
        enabled = false
        range = 20
        render_power = 3
    }
}

general {
    border_size = 2 
    col.active_border = rgba(2ac3deff)
    col.inactive_border = rgba(e0af68ff)
    gaps_in = 6
    gaps_out = 14
    layout = master
}

master {
    mfact = 0.50
    new_on_top = true
    new_status = master
    special_scale_factor = 0.8
}

misc {
    allow_session_lock_restore = true
    disable_hyprland_logo = true
    disable_splash_rendering = true
    enable_swallow = true 
    swallow_regex = ^(kitty)$
}

# Input
input {
    follow_mouse = 1
    kb_layout = us
    kb_options = caps:super
    numlock_by_default = true
    sensitivity = 0
}

# Permissions
ecosystem {
    enforce_permissions = true
}

permission = /usr/bin/grim, screencopy, allow
permission = /usr/bin/hyprlock, screencopy, allow
permission = hyprctl, plugin, deny 

# Layer Rules
layerrule {
   name = dim-around-fuzzel
   match:namespace = ^launcher$
   dim_around = on
}

# Window rules
windowrule {
   name = float-chromium-dialogs
   match:class = ^chromium$
   match:title = (?:Open Files?|Save File|Select Folder to Upload)
   center = on
   float = on
   size = 1024 640
}

windowrule {
   name = float-galculator
   match:class = ^galculator$
   center = on
   float = on
   size = 700 300
}

windowrule {
   name = float-gimp-dialogs
   match:class = (?:file(-jpeg|-png|-svg)?|org\.gimp\.GIMP)
   match:title = (?:Export Image as(?: JPEG| PNG)?|Load SVG Image|Open Files?|Save File)
   center = on
   float = on
   size = 1024 640
}

windowrule {
   name = float-gmic
   match:class = .*gmic_gimp_qt$
   center = on
   float = on
   size = 2560 1440
}

windowrule {
   name = float-mpv
   match:class = ^mpv$
   center = on
   float = on
   size = 1920 1080
}

windowrule {
   name = float-pavucontrol
   match:class = .*pavucontrol$
   center = on
   float = on
   size = 960 540
}

# Keybinds
$mainMod = Super

bind = , Print, exec, grim '$HOME/Pictures/ScreenShots'/$(date +'%Y%m%d%H%M%S_1.png') && notify-send 'Screenshot Saved'

bind = $mainMod, code:87, workspace, 1
bind = $mainMod, code:88, workspace, 2
bind = $mainMod, code:89, workspace, 3
bind = $mainMod, code:83, workspace, 4
bind = $mainMod, code:84, workspace, 5
bind = $mainMod, code:85, workspace, 6
bind = $mainMod, code:79, workspace, 7
bind = $mainMod, code:80, workspace, 8
bind = $mainMod, code:81, workspace, 9
bind = $mainMod, code:90, workspace, 10

bind = $mainMod, C, exec, meld
bind = $mainMod, D, togglespecialworkspace
bind = $mainMod, E, exec, hyprlock
bind = $mainMod, F, fullscreen, 1
bind = $mainMod, G, exec, org.gimp.GIMP -s 
bind = $mainMod, H, exec, $terminal -e btop 
bind = $mainMod, I, exec, [workspace 3;float;size 1024 640;move 1408 500] $terminal -e cmus
bind = $mainMod, J, layoutmsg, cyclenext
bind = $mainMod, K, killactive 
bind = $mainMod, L, focuscurrentorlast
bind = $mainMod, M, exec, ~/.local/bin/poweroff.sh
bind = $mainMod, O, exec, fuzzel
bind = $mainMod, P, exec, proton-pass
bind = $mainMod, Q, exec, kill -9 -1
bind = $mainMod, S, movetoworkspacesilent, special
bind = $mainMod, T, togglefloating
bind = $mainMod, U, exec, chromium
bind = $mainMod, V, exec, $terminal -e nvim
bind = $mainMod, Y, exec, bubblejail run firefox

bind = $mainMod, Down, movefocus, d
bind = $mainMod, Escape, exec, systemctl suspend
bind = $mainMod, Left, movefocus, l
bind = $mainMod, Print, exec, grim -g "$(slurp)" "$HOME/Pictures/ScreenShots/$(date +'%Y-%m-%d-%H:%M:%S.png')" && notify-send 'Screenshot Saved'
bind = $mainMod, Return, exec, $terminal
bind = $mainMod, Right, movefocus, r
bind = $mainMod, Up, movefocus, u

bind = $mainMod Shift, code:87, movetoworkspace, 1
bind = $mainMod Shift, code:88, movetoworkspace, 2
bind = $mainMod Shift, code:89, movetoworkspace, 3
bind = $mainMod Shift, code:83, movetoworkspace, 4
bind = $mainMod Shift, code:84, movetoworkspace, 5
bind = $mainMod Shift, code:85, movetoworkspace, 6
bind = $mainMod Shift, code:79, movetoworkspace, 7
bind = $mainMod Shift, code:80, movetoworkspace, 8
bind = $mainMod Shift, code:81, movetoworkspace, 9
bind = $mainMod Shift, code:90, movetoworkspace, 10

bind = $mainMod Shift, J, layoutmsg, swapwithmaster

bind = $mainMod Shift, Equal, resizeactive, 200 0
bind = $mainMod Shift, Minus, resizeactive, -200 0

bind = Ctrl, code:87, exec, $terminal -e yazi
bind = Ctrl, code:88, exec, nemo 
bind = Ctrl, code:89, exec, $terminal -e nvim /home/ck/Documents/linuxnotes

bind = Shift, code:71, exec, playerctl previous
bind = Shift, code:72, exec, playerctl next
bind = Shift, code:73, exec, playerctl play-pause
bind = Shift, code:74, exec, playerctl stop
bind = Shift, code:75, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = Shift, code:76, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+

bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
